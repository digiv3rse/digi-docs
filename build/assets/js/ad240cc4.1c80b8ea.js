"use strict";(self.webpackChunkdigi_docusaurus_v_1=self.webpackChunkdigi_docusaurus_v_1||[]).push([[6348],{5680:(e,t,n)=>{n.d(t,{xA:()=>l,yg:()=>g});var i=n(6540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=i.createContext({}),s=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},l=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,l=u(e,["components","mdxType","originalType","parentName"]),d=s(n),p=r,g=d["".concat(c,".").concat(p)]||d[p]||m[p]||a;return n?i.createElement(g,o(o({ref:t},l),{},{components:n})):i.createElement(g,o({ref:t},l))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,o=new Array(a);o[0]=p;var u={};for(var c in t)hasOwnProperty.call(t,c)&&(u[c]=t[c]);u.originalType=e,u[d]="string"==typeof e?e:r,o[1]=u;for(var s=2;s<a;s++)o[s]=n[s];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},7271:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>u,toc:()=>c});var i=n(8168),r=(n(6540),n(5680));const a={id:"auctions",title:"Auctions"},o=void 0,u={unversionedId:"smart-contracts/nouns-builder/auctions",id:"smart-contracts/nouns-builder/auctions",isDocsHomePage:!1,title:"Auctions",description:"Bidding and Settling an Auction",source:"@site/docs/smart-contracts/nouns-builder/auctions.mdx",sourceDirName:"smart-contracts/nouns-builder",slug:"/smart-contracts/nouns-builder/auctions",permalink:"/docs/smart-contracts/nouns-builder/auctions",editUrl:"https://github.com/digiv3rse/digi-docs/blob/main/docs/smart-contracts/nouns-builder/auctions.mdx",version:"current",frontMatter:{id:"auctions",title:"Auctions"},sidebar:"nounsbuilder",previous:{title:"Creating a DAO",permalink:"/docs/smart-contracts/nouns-builder/creating"},next:{title:"Governance",permalink:"/docs/smart-contracts/nouns-builder/governance"}},c=[{value:"Creating a Bid",id:"creating-a-bid",children:[]},{value:"Starting and Settling an Auction",id:"starting-and-settling-an-auction",children:[]}],s={toc:c},l="wrapper";function d(e){let{components:t,...n}=e;return(0,r.yg)(l,(0,i.A)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h5",{id:"bidding-and-settling-an-auction"},"Bidding and Settling an Auction"),(0,r.yg)("hr",null),(0,r.yg)("p",null,"Auctions play a key role in a DAO as the main form of perpetual funding.\nThe frequency of an auction is set by the founder when the DAO is created.\nOnce the DAO has been initialized it will hand over control of the auction house to the treasury and start the first auction."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"Duration:")," How long an auction runs/how often a new NFT is created"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"Reserve Price:")," Min bid amount required to start an auction"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"Min Bid Increment:")," The min percent greater a bid must be than the current highest bid to be valid.\nNouns builder default sets the minBidIncrement to 10%.\nFor example, if the current highest bid is 1 ETH and then the next bid must be 1.1 ETH or greater"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"Buffer:")," The time window in the final minutes of an auction when a new bid can reset the timer.\nThe default time buffer is 5 minutes, meaning that a bid in the last 5 minutes of the auction resets the timer to 5 minutes. ")),(0,r.yg)("h2",{id:"creating-a-bid"},"Creating a Bid"),(0,r.yg)("p",null,"Anyone can create a bid by calling ",(0,r.yg)("inlineCode",{parentName:"p"},"createBid")," and passing in the tokenId of the NFT that is currently being sold.\nNote, submitting a bid within the range of the buffer time will reset the auction timer to the buffer time.\nThe DAO defaults to a 5-minute buffer meaning that a bid in the last 5 minutes of the auction resets the timer to 5 minutes. "),(0,r.yg)("p",null,"Also, a bid must be equal to or greater than the ",(0,r.yg)("inlineCode",{parentName:"p"},"minBidIncrement")," amount which is set to 10% in the DAO by default.\nFor example, if the current highest bid is 1 ETH and the ",(0,r.yg)("inlineCode",{parentName:"p"},"minBidIncrement")," is set to 10% then the next bid must be 1.1 ETH or greater."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"// @notice Creates a bid on an NFT. Note the ETH is sent in the value field of a transaction.\nfunction createBid(uint256 _tokenId) external payable nonReentrant\n")),(0,r.yg)("h2",{id:"starting-and-settling-an-auction"},"Starting and Settling an Auction"),(0,r.yg)("p",null,"Once the first auction has been started by initializing the DAO, perpetual auctions are set into motion.\nSetting the auction is done by calling ",(0,r.yg)("inlineCode",{parentName:"p"},"settleCurrentAndCreateNewAuction")," which allows the winner to claim the NFT.\nIn addition, the same transaction mints and starts the next auction for a new NFT. "),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"/// @notice Settles the current auction and creates the next one\n    function settleCurrentAndCreateNewAuction() external nonReentrant whenNotPaused {\n        _settleAuction();\n        _createAuction();\n    }\n")))}d.isMDXComponent=!0}}]);